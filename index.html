<html>
<head>
<title>Flashlight</title>

<style type="text/css">

body	{
			background-color: #000000;
			position: absolute;
				top: 50%;
				right: 50%;
		}
		
#button {	
			background-color: #000000;
			color: #FFFFFF;
			height: 50px;
			width: 130px;
		}

#button1 {	
			background-color: #000000;
			color: #FFFFFF;
			height: 50px;
			width: 130px;
		}
		
#button:active  {	
					background-color: #FFFFFF;
					color: #000000;
				}
			
#font   {
			text-indent: -9px;
			color: #F1FC17;
		}
			
</style>

<script type="text/Javascript">

function Flashlight() {
  // track flashlight state
  this._isSwitchedOn = false;
}

Flashlight.prototype = {

  available: function (callback) {
    cordova.exec(function (avail) {
      callback(avail ? true : false);
    }, null, "Flashlight", "available", []);
  },

  switchOn: function (successCallback, errorCallback) {
    this._isSwitchedOn = true;
    cordova.exec(successCallback, errorCallback, "Flashlight", "switchOn", []);
  },

  switchOff: function (successCallback, errorCallback) {
    this._isSwitchedOn = false;
    cordova.exec(successCallback, errorCallback, "Flashlight", "switchOff", []);
  },

  toggle: function (successCallback, errorCallback) {
    if (this._isSwitchedOn) {
      this.switchOff(successCallback, errorCallback);
    } else {
      this.switchOn(successCallback, errorCallback);
    }
  }
};

Flashlight.install = function () {
  if (!window.plugins) {
    window.plugins = {};
  }

  window.plugins.flashlight = new Flashlight();
  return window.plugins.flashlight;
};

cordova.addConstructor(Flashlight.install);

function switchon(){
window.plugins.flashlight.available(function(isAvailable) {
  if (isAvailable) {

    // switch on
    window.plugins.flashlight.switchOn(); // success/error callbacks may be passed

    // switch off after 3 seconds
    setTimeout(function() {
      window.plugins.flashlight.switchOff(); // success/error callbacks may be passed
    }, 3000);

  } else {
    alert("Flashlight not available on this device");
  }
});
}

fuction switchoff(){
  document.addEventListener("backbutton", function() {
  // pass exitApp as callbacks to the switchOff method
  window.plugins.flashlight.switchOff(exitApp, exitApp);
}, false);

function exitApp() {
  navigator.app.exitApp();
}
}

</script>
</head>
<body>
<div>
<button id="button" type="button" onclick="switchon()">Flashlight ON</button>
<button id="button" type="button" onclick="switchoff()">Flashlight OFF</button>
</div>
</body>
</html>
